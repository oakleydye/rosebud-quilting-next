// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ServiceRequest {
  id              String            @id @default(cuid())
  firstName       String
  lastName        String
  email           String
  phoneNumber     String
  inquiryType     InquiryType
  serviceCategory ServiceCategory?
  shopCategory    ShopCategory?
  classLevel      ClassLevel?
  quiltSize       String?
  projectDetails  String?
  timeline        String?
  budget          String?
  preferredContact PreferredContact
  message         String
  status          RequestStatus    @default(NEW)
  priority        Priority         @default(MEDIUM)
  assignedTo      String?
  notes           String?
  followUpDate    DateTime?
  createdAt       DateTime         @default(now())
  updatedAt       DateTime         @updatedAt

  @@map("service_requests")
}

enum InquiryType {
  SERVICE
  CLASS
  SHOP
  GENERAL

  @@map("inquiry_type")
}

enum ServiceCategory {
  LONGARM
  CUSTOM
  REPAIR
  BINDING

  @@map("service_category")
}

enum ShopCategory {
  FABRICS
  NOTIONS
  PATTERNS
  KITS

  @@map("shop_category")
}

enum ClassLevel {
  BEGINNER
  INTERMEDIATE
  ADVANCED
  WORKSHOP

  @@map("class_level")
}

enum PreferredContact {
  EMAIL
  PHONE

  @@map("preferred_contact")
}

enum RequestStatus {
  NEW
  CONTACTED
  IN_PROGRESS
  COMPLETED
  CANCELLED

  @@map("request_status")
}

enum Priority {
  LOW
  MEDIUM
  HIGH
  URGENT

  @@map("priority")
}
